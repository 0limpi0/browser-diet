<!doctype html>
<html lang="pt-BR" itemscope itemtype="http://schema.org/CreativeWork">
<head>

  <title>Como perder peso (no browser)</title>

  <!-- Metatags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="O guia definitivo de performance front-end">
  <meta name="keywords" content="front-end, web performance, cache, compress, minify, combine">

  <!-- Schema.org -->
  <meta itemprop="name" content="Como perder peso (no browser)">
  <meta itemprop="url" content="http://zenorocha.github.io/browser-diet/pt">
  <meta itemprop="image" content="http://zenorocha.github.io/browser-diet/en/assets/img/share.jpg">
  <meta itemprop="description" content="O guia definitivo de performance front-end">

  <!-- Style -->
  <link rel="stylesheet" href="http://zenorocha.github.io/browser-diet/en/assets/css/all.min.css">

  <!-- Fonts -->
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans|Pacifico">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="http://zenorocha.github.io/browser-diet/en/assets/img/favicon.ico">

</head>

<body class="pt">

  <div id="header">

    <div id="top-bar" class="subtitle">
      <div class="center">

        <div id="language-picker">
          <a href="/pt" class="flags" id="flag-pt">&nbsp;</a>

          <div class="available-languages">
            <a id="flag-en" class="flags" href="http://browserdiet.com/" title="English">English</a>
            <a id="flag-es" class="flags" href="http://browserdiet.com/es/" title="Español">Español</a>
            <a id="flag-pt" class="flags" href="http://browserdiet.com/pt/" title="Português">Português</a>
            <a id="flag-pl" class="flags" href="http://browserdiet.com/pl/" title="Polski">Polski</a>
            <a id="flag-zh" class="flags" href="http://browserdiet.com/zh/" title="中国的">中国的</a>
            <a id="flag-fr" class="flags" href="http://browserdiet.com/fr/" title="Français">Français</a>
            <a id="flag-cs" class="flags" href="http://browserdiet.com/cs/" title="Česky">česky</a>
            <a id="flag-jp" class="flags" href="http://browserdiet.com/jp/" title="日本語">日本語</a>
          </div>
        </div>

        <h3>O guia definitivo de performance front-end</h3>

      </div>
    </div>

    <a href="https://github.com/zenorocha/browser-diet">
      <img id="github-ribbon" src="http://zenorocha.github.io/browser-diet/en/assets/img/github-fork.png" alt="Fork me on GitHub" width="149" height="149">
    </a>

    <div class="center">
      <div class="intro">
        <hgroup class="intro-titles">
          <h1>Como perder <span>peso</span></h1><h2>no browser</h2>
        </hgroup>

        <div class="superman">
          <img class="superman-geek" src="http://zenorocha.github.io/browser-diet/en/assets/img/superman.png" alt="Superman">
          <img class="superman-raios" src="http://zenorocha.github.io/browser-diet/en/assets/img/raios.png" alt="">
        </div>
      </div>

    </div>

    <div id="menu">
      <ul class="center">
        <li><a href="#html">HTML</a></li>
        <li><a href="#css">CSS</a></li>
        <li><a href="#js">JavaScript</a></li>
        <li><a href="#jquery">jQuery</a></li>
        <li><a href="#images">Imagens</a></li>
        <li><a href="#bonus">Bônus</a></li>
      </ul>
    </div>

  </div>

  <div id="content">
    <div class="center">

      
    <div class="article">
      <div class="img-left">
  <img id="geek-17" class="icos-geek" src="http://browserdiet.com/en/assets/img/17.png" alt="Geek #17" width="199" height="275" />
</div>

<p>E se juntássemos os feras que trabalham em grandes portais para criar o guia definitivo de performance para front-end?</p>
<p>Mas nada daqueles guias chatos feitos para robôs, que tal fazer algo divertido? Que tal juntar <a href="http://www.brizabueno.com/">Briza Bueno</a> <em>(Americanas.com)</em>, <a href="https://github.com/davidsonfellipe">Davidson Fellipe</a> <em>(Globo.com)</em>, <a href="https://github.com/keppelen">Giovanni Keppelen</a> <em>(ex-Peixe Urbano)</em>, <a href="https://github.com/jaydson">Jaydson Gomes</a> <em>(Terra)</em>, <a href="https://github.com/marcelduran">Marcel Duran</a> <em>(Twitter)</em>, <a href="https://github.com/miketaylr">Mike Taylor</a> <em>(Opera)</em>, <a href="https://github.com/mangini">Renato Mangini</a> <em>(Google)</em> e <a href="http://sergiolopes.org">Sérgio Lopes</a> <em>(Caelum)</em> para criar a melhor referência possível?</p>
<p>Foi isso mesmo que fizemos! E iremos te ajudar nessa batalha de criar sites cada vez mais rápidos.</p>
<p class="project-leader">&mdash; <a href="http://zenorocha.com/">Zeno Rocha</a>, líder do projeto.</p>
    </div>

    <div class="article">
      <h1 id="performance-importa">
  <a class="tip-title" href="#performance-importa">Performance importa mesmo?</a>
  <a title="Link" class="anchor" href="#performance-importa">∞</a>
</h1>

<div class="line">
  <span class="order">??</span>
  <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/intro/pt/performance-matters.html">✎</a>
</div>

<p>É claro que importa e você sabe disso. Então por que continuamos fazendo sites lentos que prejudicam a experiência do usuário? Esse é um guia prático voltado para comunidade que vai te mostrar como fazer sites mais rápidos. Não vamos perder tempo mostrando <a href="https://github.com/zenorocha/browser-diet/wiki/Impact-of-performance">cases milionários de performance</a>, vamos direto ao ponto!</p>
    </div>


      <h2 id="html" class="topics"><span>HTML</span></h2>



  <div class="article" id="article-avoid-inline">
    <h1 id="avoid-inline">
      <a class="tip-title" href="#avoid-inline">Evite código inline/incorporado</a>
      <a title="Link" class="anchor" href="#avoid-inline">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/html/pt/avoid-inline.html.md">✎</a>
    </div>
    
    <p>Existem três formas básicas de você lidar com CSS e Javascript:</p>
<p><strong>1) Inline:</strong> onde o CSS é definido dentro do atributo <code>style</code> e o JavaScript dentro de um atributo <code>onclick</code> por exemplo, em qualquer tag HTML;</p>
<p><strong>2) Incorporado:</strong> onde o CSS é definido dentro da tag <code>&lt;style&gt;</code> e o JavaScript dentro da tag <code>&lt;script&gt;</code>;</p>
<p><strong>3) Externo:</strong> onde o CSS é carregado na tag <code>&lt;link&gt;</code> e o JavaScript através do atributo <code>src</code> da tag <code>&lt;script&gt;</code>.</p>
<p>As duas primeiras opções, apesar de reduzirem o número de requisições, aumentam o tamanho do documento HTML. Elas podem ser interessante quando você tem arquivos pequenos e o custo de uma requisição é maior. Nesse caso, faça testes para avaliar se há realmente ganho. Avalie também o objetivo da página e sua audiência, se o esperado é que usuários visitem essa página somente uma única vez, como por exemplo uma campanha temporária onde não se espera futuras visitas à mesma, utilizar inline/incorporado ajudará na redução do número de requisições.</p>
<p><em>&gt; Evite escrever manualmente o CSS/JS no meio do HTML (use uma ferramenta que automatize esse processo).</em></p>
<p>Já a terceira opção, não só melhora a organização do seu código, como também possibilita que eles sejam armazenados no cache do navegador. Prefira essa opção para a maior parte dos casos, quando lidamos com arquivos grandes e muitas páginas.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/Tools#wiki-avoid-inlineembedded-code">Ferramentas úteis</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#wiki-avoid-inlineembedded-code">Referências</a></em></p>

  </div>



  <div class="article" id="article-css-on-top-js-on-bottom">
    <h1 id="css-on-top-js-on-bottom">
      <a class="tip-title" href="#css-on-top-js-on-bottom">Estilos no topo, Scripts no rodapé</a>
      <a title="Link" class="anchor" href="#css-on-top-js-on-bottom">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/html/pt/css-on-top-js-on-bottom.html.md">✎</a>
    </div>
    
    <p>Quando colocamos as folhas de estilo no <code>&lt;head&gt;</code> permitimos que a página renderize progressivamente, o que causa uma percepção ao usuário de que está carregando mais rápido.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Browser Diet<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- CSS --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"style.css"</span> <span class="hljs-attribute">media</span>=<span class="hljs-value">"all"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
</code></pre>
<p>Enquanto que se colocássemos próximo ao fim da página, ela seria renderizada sem estilo algum até que o download do CSS terminasse.</p>
<div class="img-right">
  <img id="geek-32" class="icos-geek" src="http://browserdiet.com/en/assets/img/32.png" alt="Geek #32" width="139" height="275" />
</div>

<p>Com relação ao JavaScript, é importante manter a chamada dos scripts no fim do página, já que eles bloqueiam a renderização da página enquanto são carregados e executados.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Lorem ipsum dolor sit amet.<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- JS --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"script.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
</code></pre>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#wiki-styles-up-top-scripts-down-bottom">Referências</a></em></p>

  </div>



  <div class="article" id="article-async">
    <h1 id="async">
      <a class="tip-title" href="#async">experimente o async &amp; defer</a>
      <a title="Link" class="anchor" href="#async">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/html/pt/async.html.md">✎</a>
    </div>
    
    <p>Para explicar como esse atributo é útil para melhorar a performance, é melhor entender o que acontece quando não utilizamos ele.</p>
<div class="img-left">
  <img id="geek-20" class="icos-geek" src="http://browserdiet.com/en/assets/img/20.png" alt="Geek #20" width="118" height="275" />
</div>

<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"example.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>Dessa forma, a página aguarda o script terminar de carregar antes de continuar sua renderização e sua execução é feita imediatamente após. Isso pode aumentar significativamente o tempo de carregamento da página. Algumas vezes esse comportamento é desejado, outras vezes não.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">async</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"example.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>O download do script é feito de forma assíncrona enquanto o processo de renderização da página continua a ser feito. O script é executado depois que o download estiver completo. Tenha em mente que caso tenha vários scripts com async, eles  serão executados em nenhuma ordem específica.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#wiki-try-out-async">Referências</a></em></p>

  </div>




      <h2 id="css" class="topics"><span>CSS</span></h2>



  <div class="article" id="article-minify-css">
    <h1 id="minify-css">
      <a class="tip-title" href="#minify-css">Comprima sua folha de estilo</a>
      <a title="Link" class="anchor" href="#minify-css">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/css/pt/minify-css.html.md">✎</a>
    </div>
    
    <p>Para manter um código legível é bom escrever comentários e ter cuidado com indentação.</p>
<pre class="highlight"><code class="css"><span class="hljs-class">.center</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">960</span>px</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span> auto</span></span>;
<span class="hljs-rule">}</span></span>

<span class="hljs-comment">/* --- Structure --- */</span>

<span class="hljs-class">.intro</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">100</span>px</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> relative</span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>
<p>Só que para a máquina, nada disso importa. Por isso, lembre-se de comprimir seu CSS através de uma ferramenta automatizada.</p>
<pre class="highlight"><code class="css"><span class="hljs-class">.center</span><span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"><span class="hljs-number">960</span>px</span></span>;<span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"><span class="hljs-number">0</span> auto</span></span></span>}<span class="hljs-class">.intro</span><span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"><span class="hljs-number">100</span>px</span></span>;<span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value">relative</span></span></span>}
</code></pre>
<p>Isso irá economizar muitos e muitos bytes, acelerando assim o download, análise e tempo de execução.</p>
<p>Para aqueles que usam pré-processadores como <a href="http://sass-lang.com/">Sass</a>, <a href="http://lesscss.org/">Less</a> e <a href="http://learnboost.github.com/stylus/">Stylus</a>, é possível configurar a compilação para gerar o código já minificado.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/Tools#wiki-minify-your-stylesheets">Ferramentas úteis</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#minify-your-stylesheets">Referências</a></em></p>

  </div>



  <div class="article" id="article-combine-css">
    <h1 id="combine-css">
      <a class="tip-title" href="#combine-css">Combine vários arquivos CSS em um só</a>
      <a title="Link" class="anchor" href="#combine-css">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/css/pt/combine-css.html.md">✎</a>
    </div>
    
    <p>Outra boa prática para organização e manutenção é separar seu estilo em diversos arquivos.</p>
<div class="img-right">
  <img id="geek-9" class="icos-geek" src="http://browserdiet.com/en/assets/img/9.png" alt="Geek #9" width="122" height="275" />
</div>

<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"structure.css"</span> <span class="hljs-attribute">media</span>=<span class="hljs-value">"all"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"banner.css"</span> <span class="hljs-attribute">media</span>=<span class="hljs-value">"all"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"layout.css"</span> <span class="hljs-attribute">media</span>=<span class="hljs-value">"all"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"component.css"</span> <span class="hljs-attribute">media</span>=<span class="hljs-value">"all"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"plugin.css"</span> <span class="hljs-attribute">media</span>=<span class="hljs-value">"all"</span>&gt;</span>
</code></pre>
<p>Porém, é preciso realizar uma requisição HTTP para cada um dos arquivos e sabemos que o navegador não consegue lidar com muitos downloads paralelos.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"main.css"</span> <span class="hljs-attribute">media</span>=<span class="hljs-value">"all"</span>&gt;</span>
</code></pre>
<p>Logo, combine seu CSS. Quanto menor for o número de arquivos, menor será o número de requisições feitas e mais rápida sua página carregará.</p>
<p>Quer ter o melhor dos dois mundos? Automatize esse processo através de uma ferramenta de build.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/Tools#wiki-combining-multiple-css-files">Ferramentas úteis</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#combining-multiple-css-files">Referências</a></em></p>

  </div>



  <div class="article" id="article-prefer-link-over-import">
    <h1 id="prefer-link-over-import">
      <a class="tip-title" href="#prefer-link-over-import">Prefira &lt;link&gt; a @import</a>
      <a title="Link" class="anchor" href="#prefer-link-over-import">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/css/pt/prefer-link-over-import.html.md">✎</a>
    </div>
    
    <p>Há duas maneiras de incluir uma folha de estilo externa na sua página, pode ser através da tag <code>&lt;link&gt;</code>:</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"style.css"</span>&gt;</span>
</code></pre>
<p>Ou da propriedade <code>@import</code> dentro de uma folha de estilo externa ou inline em uma tag <code>&lt;style&gt;</code>:</p>
<pre class="highlight"><code class="css"><span class="hljs-at_rule">@<span class="hljs-keyword">import</span> <span class="hljs-function">url(<span class="hljs-string">'style.css'</span>)</span></span>;
</code></pre>
<p>Quando você utiliza a segunda opção a partir de uma folha de estilo externa, o navegador é incapaz de realizar o download em paralelo, o que causa atraso na cascata de carregamento dos arquivos.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#prefer--over-import">Referências</a></em></p>

  </div>




      <h2 id="js" class="topics"><span>JavaScript</span></h2>



  <div class="article" id="article-3rd-party-async">
    <h1 id="3rd-party-async">
      <a class="tip-title" href="#3rd-party-async">Carregue código de terceiros de forma assíncrona</a>
      <a title="Link" class="anchor" href="#3rd-party-async">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/js/pt/3rd-party-async.html.md">✎</a>
    </div>
    
    <p>Quem nunca carregou um código de terceiros para embedar um vídeo do YouTube ou colocar um botão de like/tweet?</p>
<p>O grande problema é que nem sempre esses códigos são entregues de maneira eficiente, seja pela conexão do usuário, ou pela conexão no servidor onde estão hospedados. Ou esse serviço pode estar temporariamente fora do ar ou mesmo ser bloqueado pelo firewall do usuário ou da empresa dele.</p>
<div class="img-right">
  <img id="geek-46" class="icos-geek" src="http://browserdiet.com/en/assets/img/46.png" alt="Geek #46" width="158" height="275" />
</div>

<p>Para evitar que isso se torne um ponto crítico no carregamento de um site ou, pior, trave o carregamento da página toda, sempre carregue estes códigos de forma assíncrona (ou então use <em><a href="https://www.facebook.com/note.php?note_id=10151176218703920">Friendly iFrames</a></em>).</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> script = document.createElement(<span class="hljs-string">'script'</span>),
    scripts = document.getElementsByTagName(<span class="hljs-string">'script'</span>)[<span class="hljs-number">0</span>];
script.async = <span class="hljs-literal">true</span>;
script.src = url;
scripts.parentNode.insertBefore(script, scripts);
</code></pre>
<p>Se você quiser carregar múltiplos widgets de terceiros de forma assíncrona use <a href="https://gist.github.com/zenorocha/5161860">esse script</a>.</p>
<p><em>&gt; <a href="http://www.webpagetest.org/video/view.php?id=111011_4e0708d3caa23b21a798cc01d0fdb7882a735a7d">Vídeo</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#load-3rd-party-content-asynchronously">Referências</a></em></p>

  </div>



  <div class="article" id="article-cache-array-lengths">
    <h1 id="cache-array-lengths">
      <a class="tip-title" href="#cache-array-lengths">Guarde o tamanho do Array</a>
      <a title="Link" class="anchor" href="#cache-array-lengths">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/js/pt/cache-array-lengths.html.md">✎</a>
    </div>
    
    <p>O loop é sem dúvida é uma das partes mais importantes com relação a performance no JavaScript. Busque otimizar a lógica dentro de um loop para que cada iteração seja feita de forma eficiente.</p>
<p>Um modo para fazer isso é armazenando o tamanho do array que será percorrido, assim ele não precisa ser recalculado toda vez que o loop for iterado.</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">1000</span>),
    len, i;

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) {
  <span class="hljs-comment">// Ruim - o tamanho precisa ser calculado 1000 vezes</span>
}

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = arr.length; i &lt; len; i++) {
  <span class="hljs-comment">// Bom - o tamanho só é calculado 1 vez e depois armazenado</span>
}
</code></pre>
<p><em><a href="http://jsperf.com/browser-diet-cache-array-length/10/">&gt; Resultado no JSPerf</a></em></p>
<p><strong>&gt; Observação:</strong> <em>Embora engines de browsers modernos otimizam automaticamente esse processo, continua sendo uma boa prática atender o legado de browsers que ainda perduram.</em></p>
<p>Em iterações sobre coleções HTML como uma lista de Nodes (<em>NodeList</em>) geradas por exemplo através de <code>document.getElementsByTagName(&#39;a&#39;)</code>, isto é particularmente crítico e essencial. Essas coleções são consideradas &quot;vivas&quot;, ou seja, são automaticamente atualizadas quando há alterações no elemento à qual pertencem.</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> links = document.getElementsByTagName(<span class="hljs-string">'a'</span>),
    len, i;

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; links.length; i++) {
  <span class="hljs-comment">// Ruim - a cada iteração a lista de links será recalculada para verificar se houve mudança</span>
}

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = links.length; i &lt; len; i++) {
  <span class="hljs-comment">// Bom - o tamanho da lista é primeiramente obtido e armazenado, depois comparado a cada iteração</span>
}

<span class="hljs-comment">// Péssimo: exemplo de loop infinito</span>
<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; links.length; i++) {
  document.body.appendChild(document.createElement(<span class="hljs-string">'a'</span>));
  <span class="hljs-comment">// a cada iteração a lista de links aumenta, nunca satisfazendo a condição de término do loop</span>
  <span class="hljs-comment">// isso não aconteceria se o tamanho da lista fosse armazenado e usado como condição</span>
}
</code></pre>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#cache-array-lengths">Referências</a></em></p>

  </div>



  <div class="article" id="article-documentwrite">
    <h1 id="documentwrite">
      <a class="tip-title" href="#documentwrite">Evite document.write</a>
      <a title="Link" class="anchor" href="#documentwrite">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/js/pt/documentwrite.html.md">✎</a>
    </div>
    
    <p>O uso do <code>document.write</code> faz com que a página fique na dependência do seu retorno para ser completamente carregada.</p>
<p>Essa (má) prática já foi abolida há anos pelos desenvolvedores, mas ainda existem casos onde seu uso ainda é necessário, como no fallback síncrono de algum arquivo JavaScript.</p>
<p>O <a href="https://github.com/h5bp/html5-boilerplate/">HTML5 Boilerplate</a>, por exemplo, faz o uso desta técnica para carregar o jQuery localmente, caso a <em>CDN</em> do Google não responda.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">window.jQuery || document.write(<span class="hljs-string">'&lt;script src="js/vendor/jquery-1.9.0.min.js"&gt;&lt;\/script&gt;'</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p><strong>&gt; Atenção:</strong> <em><code>document.write</code> executado durante ou após o evento <code>window.onload</code> substitui todo o conteúdo da página atual.</em></p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>foo<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
  window.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
    document.write(<span class="hljs-string">'&lt;span&gt;bar&lt;/span&gt;'</span>);
  };
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>O resultado da página final será somente <em>bar</em> e não <em>foobar</em> como esperado. O mesmo ocorre quando executado após o evento <code>window.onload</code>.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>foo<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
  setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
    document.write(<span class="hljs-string">'&lt;span&gt;bar&lt;/span&gt;'</span>);
  }, <span class="hljs-number">1000</span>);
  window.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
    <span class="hljs-comment">// ...</span>
  };
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>O resultado será o mesmo do exemplo anterior caso a função agendada pelo <code>setTimeout</code> seja executada após evento <code>window.onload</code>.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#avoid-documentwrite">Referências</a></em></p>

  </div>



  <div class="article" id="article-repaints-and-reflows">
    <h1 id="repaints-and-reflows">
      <a class="tip-title" href="#repaints-and-reflows">Minimize Repaints e Reflows</a>
      <a title="Link" class="anchor" href="#repaints-and-reflows">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/js/pt/repaints-and-reflows.html.md">✎</a>
    </div>
    
    <p>Repaints e reflows são causados quando existe alguma re-renderização no DOM quando determinada propriedade ou elemento é alterado.</p>
<p>Repaints são disparados quando a aparência de um elemento é alterada sem alterar seu layout. Nicole Sullivan descreve isso como uma mudança de estilo como o ato de alterar um <code>background-color</code>.</p>
<p>Reflows são os mais custosos, causados quando as mudanças alterando o layout da página, como por exemplo alterar o width de um elemento.</p>
<p>Não há dúvida que ambos reflows e repaints excessivos devem ser evitados, portanto ao invés de fazer isso:</p>
<div class="img-right">
  <img id="geek-55" class="icos-geek" src="http://browserdiet.com/en/assets/img/55.png" alt="Geek #55" width="163" height="275" />
</div>

<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> div = document.getElementById(<span class="hljs-string">"to-measure"</span>),
    lis = document.getElementsByTagName(<span class="hljs-string">'li'</span>),
    i, len;

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = lis.length; i &lt; len; i++) {
  lis[i].style.width = div.offsetWidth + <span class="hljs-string">'px'</span>;
}
</code></pre>
<p>Faça isso:</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> div = document.getElementById(<span class="hljs-string">"to-measure"</span>),
    lis = document.getElementsByTagName(<span class="hljs-string">'li'</span>),
    widthToSet = div.offsetWidth,
    i, len;

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = lis.length; i &lt; len; i++) {
  lis[i].style.width = widthToSet + <span class="hljs-string">'px'</span>;
}
</code></pre>
<p>Quando você define o <code>style.width</code>, o navegador precisa recalcular o layout. Normalmente, uma mudança de estilo em muitos elementos realiza apenas um reflow, já que o navegador não precisa pensar sobre ele até que necessite atualizar a tela. Entretanto, no primeiro exemplo, nós pedimos por <code>offsetWidth</code>, que é a largura de layout do elemento, então o navegador precisa recalcular o layout.</p>
<p>Se você precisar ler informações do layout na página, faça de uma vez só antes de definir qualquer coisa que altere o layout, como no segundo exemplo.</p>
<p><em>&gt; <a href="http://jsbin.com/aqavin/2/quiet">Demo</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#minimize-repaints-and-reflows">Referências</a></em></p>

  </div>



  <div class="article" id="article-dont-touch-dom">
    <h1 id="dont-touch-dom">
      <a class="tip-title" href="#dont-touch-dom">Evite manipulações desnecessárias no DOM</a>
      <a title="Link" class="anchor" href="#dont-touch-dom">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/js/pt/dont-touch-dom.html.md">✎</a>
    </div>
    
    <p>Toda vez que você toca no DOM sem realmente precisar, um panda morre.</p>
<p>Sério, navegar por elementos do DOM é custoso. Apesar das engines JavaScript estarem cada vez mais poderosas e rápidas, prefira sempre otimizar ao máximo as consultas na árvore do DOM.</p>
<p>Uma das alternativas mais simples de serem adotadas é: quando um elemento precisar ser acessado mais de uma vez, guarde-o numa váriavel, e assim você não vai fazer mais do que uma consulta no DOM.</p>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">// muito ruim!</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  document.getElementById(<span class="hljs-string">"myList"</span>).innerHTML += <span class="hljs-string">"&lt;span&gt;"</span> + i + <span class="hljs-string">"&lt;/span&gt;"</span>;
}
</code></pre>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">// bem melhor :)</span>
<span class="hljs-keyword">var</span> myList = <span class="hljs-string">""</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  myList += <span class="hljs-string">"&lt;span&gt;"</span> + i + <span class="hljs-string">"&lt;/span&gt;"</span>;
}

document.getElementById(<span class="hljs-string">"myList"</span>).innerHTML = myList;
</code></pre>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">// bem bem melhor :)</span>
<span class="hljs-keyword">var</span> myListHTML = document.getElementById(<span class="hljs-string">"myList"</span>).innerHTML;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  myListHTML += <span class="hljs-string">"&lt;span&gt;"</span> + i + <span class="hljs-string">"&lt;/span&gt;"</span>;
}
</code></pre>
<p><em>&gt; <a href="http://jsperf.com/browser-diet-dom-manipulation/11">Resultados no JSPerf</a></em></p>

  </div>



  <div class="article" id="article-minify-js">
    <h1 id="minify-js">
      <a class="tip-title" href="#minify-js">Comprima seu script</a>
      <a title="Link" class="anchor" href="#minify-js">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/js/pt/minify-js.html.md">✎</a>
    </div>
    
    <p>Assim como no CSS, para manter um código legível é bom escrever comentários e ter cuidado com indentação.</p>
<pre class="highlight"><code class="javascript">BrowserDiet.app = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>

  <span class="hljs-keyword">var</span> foo = <span class="hljs-literal">true</span>;

  <span class="hljs-keyword">return</span> {
    bar: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
      <span class="hljs-comment">// do something</span>
    }
  };

};
</code></pre>
<p>Só que para a máquina, nada disso importa. Por isso, lembre-se de comprimir seu JavaScript através de uma ferramenta automatizada.</p>
<pre class="highlight"><code class="javascript">BrowserDiet.app=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">var</span> a=!<span class="hljs-number">0</span>;<span class="hljs-keyword">return</span>{bar:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>}}}
</code></pre>
<p>Isso irá economizar muitos e muitos bytes, acelerando assim o download, análise e tempo de execução.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/Tools#wiki-minify-your-script">Ferramentas úteis</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#minify-your-script">Referências</a></em></p>

  </div>



  <div class="article" id="article-combine-js">
    <h1 id="combine-js">
      <a class="tip-title" href="#combine-js">Combine vários arquivos JS em um só</a>
      <a title="Link" class="anchor" href="#combine-js">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/js/pt/combine-js.html.md">✎</a>
    </div>
    
    <p>Outra boa prática para organização e manutenção é separar seu script em diversos arquivos.</p>
<div class="img-right">
  <img id="geek-47" class="icos-geek" src="http://browserdiet.com/en/assets/img/47.png" alt="Geek #47" width="174" height="275" />
</div>

<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"navbar.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"component.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"page.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"framework.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"plugin.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>Porém, é preciso realizar uma requisição HTTP para cada um dos arquivos e sabemos que o navegador não consegue lidar com muitos downloads paralelos.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"main.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>Logo, combine seu JS. Quanto menor for o número de arquivos, menor será o número de requisições feitas e mais rápida sua página carregará.</p>
<p>Quer ter o melhor dos dois mundos? Automatize esse processo através de uma ferramenta de build.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/Tools#wiki-combine-multiple-js-files-into-one">Ferramentas úteis</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#combine-multiple-js-files-into-one">Referências</a></em></p>

  </div>




      <h2 id="jquery" class="topics"><span>jQuery</span></h2>



  <div class="article" id="article-latest-version">
    <h1 id="latest-version">
      <a class="tip-title" href="#latest-version">Use sempre a última versão do jQuery</a>
      <a title="Link" class="anchor" href="#latest-version">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/jquery/pt/latest-version.html.md">✎</a>
    </div>
    
    <p>Os membros do core do jQuery estão sempre buscando trazer novidades para a biblioteca. Estes ajustes, muitas vezes, estão relacionados a melhorias da legibilidade do código, novas funcionalidades e, principalmente, otimização de algoritmos.</p>
<div class="img-right">
  <img id="geek-36" class="icos-geek" src="http://browserdiet.com/en/assets/img/36.png" alt="Geek #36" width="144" height="275" />
</div>

<p>Por isso use sempre a última versão do jQuery, que está sempre disponível aqui, caso você queira copiar para um arquivo local:</p>
<pre class="highlight"><code class="xml">http://code.jquery.com/jquery-latest.js
</code></pre>
<p>Mas <em>nunca</em> referencie essa URL em uma tag <code>&lt;script&gt;</code>: isso pode criar problemas no futuro, já que novas versões são automaticamente servidas no seu site antes mesmo de você ter a chance de testá-las. Em vez disso, use a última versão específica do jQuery que você precisa.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>Já dizia o sábio <a href="/img/new-is-always-better.gif">Barney Stinson</a>: <em>&quot;New is always better&quot;</em> :P</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#always-use-the-latest-version-of-jquery">Referências</a></em></p>

  </div>



  <div class="article" id="article-use-for-instead-of-each">
    <h1 id="use-for-instead-of-each">
      <a class="tip-title" href="#use-for-instead-of-each">Use for ao invés de each</a>
      <a title="Link" class="anchor" href="#use-for-instead-of-each">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/jquery/pt/use-for-instead-of-each.html.md">✎</a>
    </div>
    
    <p>O uso das funções nativas do JavaScript, quase sempre, trazem execuções mais rápidas que as respectivas em jQuery. Sendo assim, ao invés de utilizar o método <code>jQuery.each</code>, use o <code>for</code> do próprio JavaScript.</p>
<p>Mas atenção, apesar do <code>for in</code> ser nativo, sua performance muitas vezes é pior que o <code>jQuery.each</code>.</p>
<p>Já o bom e velho <code>for</code> nos traz uma melhor forma de deixar nossas iterações mais rápidas, e você ainda pode aplicar um cache para o tamanho total do array e conseguirá aumentar o número de operações por segundo.</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">for</span> ( <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = a.length; i &lt; len; i++ ) {
    e = a[i];
}
</code></pre>
<p>O uso de <code>while</code> reverso e <code>for</code> reverso é bem discutido na comunidade, e muitas vezes citado como a forma
mais rápida de se fazer uma iteração com JavaScript, porém é bastante criticado devido ao fato de deixar o código com uma leitura mais difícil.</p>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">// while reverso</span>
<span class="hljs-keyword">while</span> ( i-- ) {
  <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// for reverso</span>
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">var</span> i = array.length; i--; ) {
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><em>&gt; <a href="http://jsperf.com/browser-diet-jquery-each-vs-for-loop">Resultado no JSPerf</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#use-for-instead-of-each">Referências</a></em></p>

  </div>



  <div class="article" id="article-dont-use-jquery">
    <h1 id="dont-use-jquery">
      <a class="tip-title" href="#dont-use-jquery">Não use jQuery sempre...</a>
      <a title="Link" class="anchor" href="#dont-use-jquery">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/jquery/pt/dont-use-jquery.html.md">✎</a>
    </div>
    
    <p>Às vezes JavaScript puro pode ser mais fácil e mais performático que jQuery.</p>
<div class="img-right">
  <img id="geek-6" class="icos-geek" src="http://browserdiet.com/en/assets/img/6.png" alt="Geek #6" width="156" height="275" />
</div>

<p>Considere o seguinte HTML:</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"text"</span>&gt;</span>Vamos mudar esse conteúdo.<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>Ao invés de fazer isso:</p>
<pre class="highlight"><code class="javascript">$(<span class="hljs-string">'#text'</span>).html(<span class="hljs-string">'O conteúdo mudou'</span>).css({
  backgroundColor: <span class="hljs-string">'red'</span>,
    color: <span class="hljs-string">'yellow'</span>
  });
</code></pre>
<p>Usamos JavaScript puro:</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> text = document.getElementById(<span class="hljs-string">'text'</span>);
text.innerHTML = <span class="hljs-string">'O conteúdo mudou'</span>;
text.style.backgroundColor = <span class="hljs-string">'red'</span>;
text.style.color = <span class="hljs-string">'yellow'</span>;
</code></pre>
<p>É simples e <strong>muito</strong> mais rápido.</p>
<p><em>&gt; <a href="http://jsperf.com/jquery-vs-javascript-performance-text">Resultado no JSPerf</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#dont-use-jquery">Referências</a></em></p>

  </div>




      <h2 id="images" class="topics"><span>Imagens</span></h2>



  <div class="article" id="article-sprites">
    <h1 id="sprites">
      <a class="tip-title" href="#sprites">Use CSS Sprites</a>
      <a title="Link" class="anchor" href="#sprites">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/images/pt/sprites.html.md">✎</a>
    </div>
    
    <p>Essa técnica consiste em agrupar diversas imagens em uma só.</p>
<p><img id="img-sprite" src="http://browserdiet.com/en/assets/img/sprite-example.jpg" alt="CSS Sprite Example"></p>
<p>E depois posicioná-las através de CSS.</p>
<pre class="highlight"><code class="css"><span class="hljs-class">.icon-foo</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-image</span>:<span class="hljs-value"> <span class="hljs-function">url(<span class="hljs-string">'mySprite.png'</span>)</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">background-position</span>:<span class="hljs-value"> -<span class="hljs-number">10</span>px -<span class="hljs-number">10</span>px</span></span>;
<span class="hljs-rule">}</span></span>

<span class="hljs-class">.icon-bar</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-image</span>:<span class="hljs-value"> <span class="hljs-function">url(<span class="hljs-string">'mySprite.png'</span>)</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">background-position</span>:<span class="hljs-value"> -<span class="hljs-number">5</span>px -<span class="hljs-number">5</span>px</span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>
<p>Isso faz com que diminua absurdamente o número de requisições HTTP e evite atrasos no download de outros recursos da sua página.</p>
<p>Ao montar seu <em>sprite</em>, evite deixar muito espaço em branco entre as imagens, isso não afeta o peso do arquivo, mas sim o uso de memória para processar o mapa de pixels.</p>
<p>Apesar de extremamente difundida, essa técnica é pouco usada já que os desenvolvedores não utilizam ferramentas que automatizam o processo de geração dessa imagem. Por isso, separamos algumas que podem te ajudar nisso.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/Tools#wiki-use-css-sprites">Ferramentas úteis</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#use-css-sprites">Referências</a></em></p>

  </div>



  <div class="article" id="article-data-uri">
    <h1 id="data-uri">
      <a class="tip-title" href="#data-uri">Data URI</a>
      <a title="Link" class="anchor" href="#data-uri">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/images/pt/data-uri.html.md">✎</a>
    </div>
    
    <p>Essa técnica é uma alternativa para o uso de CSS sprites.</p>
<p><a href="http://en.wikipedia.org/wiki/Data_URI_scheme">Data-URI</a> é uma maneira de adicionar conteúdo inline de uma URI que você normalmente iria apontar. Nesse exemplo, nós estamos utilizando para adicionar conteúdo inline no background de uma imagem no CSS, a fim de reduzir o número de requisições HTTP necessárias para carregar uma página.</p>
<p>Antes:</p>
<pre class="highlight"><code class="css"><span class="hljs-class">.icon-foo</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-image</span>:<span class="hljs-value"> <span class="hljs-function">url(<span class="hljs-string">'foo.png'</span>)</span></span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>
<p>Depois:</p>
<pre class="highlight"><code class="css"><span class="hljs-class">.icon-foo</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-image</span>:<span class="hljs-value"> <span class="hljs-function">url(<span class="hljs-string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII%3D'</span>)</span></span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>
<p>Todos os navegadores do IE8 para cima suportam essa técnica de codificação base64.</p>
<p>Ambos esse método e CSS sprites precisam de ferramentas de build para serem de fácil manutenção. Esse método tem a vantagem de não exigir reposicionamento manual do sprite já que mantém suas imagens em arquivos individuais durante o desenvolvimento.</p>
<p>Entretanto tem a desvantagem de aumentar consideravelmente o tamanho do seu HTML/CSS se você possuir imagens grandes. Não é recomendado utilizar esse método se você não está utilizando a técnica de gzip no seu HTML/CSS durante as requisições HTTP já que a sobrecarga de tamanho pode anular os ganhos de velocidade sobre minimizar o número de requisições HTTP.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/Tools#wiki-data-uri">Ferramentas úteis</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#data-uri">Referências</a></em></p>

  </div>



  <div class="article" id="article-scale">
    <h1 id="scale">
      <a class="tip-title" href="#scale">Não escale imagens direto no código</a>
      <a title="Link" class="anchor" href="#scale">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/images/pt/scale.html.md">✎</a>
    </div>
    
    <p>Defina sempre o <code>width</code> e o <code>height</code> de uma imagem, isso irá reduzir o tempo de renderização evitando repaints e reflows desnecessários.</p>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"100"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"100"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"logo.jpg"</span> <span class="hljs-attribute">alt</span>=<span class="hljs-value">"Logo"</span>&gt;</span>
</code></pre>
<p>Conhecendo esses atributos do HTML, Joãozinho que tem uma imagem de <em>700x700px</em> resolve exibi-la com um tamanho de <em>50x50px</em>.</p>
<p>O que o malandro Joãozinho não sabe é que uma dezena de <em>KBs</em> serão trafegados a mais pela rede, desnecessariamente.</p>
<p>Por isso, lembre-se: só porque você pode definir a altura e largura de uma imagem no HTML, não quer dizer que deve redimensionar imagens maiores do que precisa.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#dont-rescale-images-in-markup">Referências</a></em></p>

  </div>



  <div class="article" id="article-optimize">
    <h1 id="optimize">
      <a class="tip-title" href="#optimize">Otimize suas imagens</a>
      <a title="Link" class="anchor" href="#optimize">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/images/pt/optimize.html.md">✎</a>
    </div>
    
    <p>Arquivos de imagens possuem muitos KB de informações desnecessárias na Web. Por exemplo, uma foto JPEG tem um monte de metadados <em>Exif</em> colocados pela câmera (data da foto, modelo da câmera, local etc). Um PNG possui uma série de informações sobre cores, metadados e, às vezes, até uma miniatura da imagem embutida no meio. Nada disso é importante para a renderização da imagem no navegador e só gasta bytes de rede.</p>
<p>Existem ferramentas de otimização de imagens que removem todas essas informações desnecessárias e te dão um arquivo mais enxuto mas visualmente idêntico. Elas fazem uma compressão sem perda de qualidade visual (chamamos de <em>lossless</em>).</p>
<p>Outra forma de otimizar imagens é comprimi-las com certas perdas visuais aceitáveis. Esse tipo de operação é chamada de otimização <em>lossy</em>. Quando você exportar um JPEG, por exemplo, pode escolher a qualidade (um número de 0 a 100). Pensando em performance, pegue sempre o número mais baixo onde a qualidade visual ainda é aceitável. Outra otimização <em>lossy</em> famosa é diminuir o número de cores na paleta de um PNG, ou transformar arquivos PNG-24 em PNG-8.</p>
<p>Para melhorar a performance percebida pelo usuário, você deve transformar todos seus arquivos JPEGs em progressivos. JPEGs progressivos têm ótimo suporte nos navegadores, são muito fáceis de criar e não têm nenhum problema de performance significativo. O bom é que a imagem vai aparecer bem antes na página (<a href="http://www.patrickmeenan.com/progressive/view.php?img=http://farm2.staticflickr.com/1434/1002257937_021cb46a33_o.jpg">ver exemplo</a>).</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/Tools#wiki-optimize-your-images">Ferramentas úteis</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#wiki-optimize-your-images">Referências</a></em></p>

  </div>




      <h2 id="bonus" class="topics"><span>Bônus</span></h2>



  <div class="article" id="article-tools">
    <h1 id="tools">
      <a class="tip-title" href="#tools">Ferramentas de diagnóstico: suas melhores amigas</a>
      <a title="Link" class="anchor" href="#tools">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/bonus/pt/tools.html.md">✎</a>
    </div>
    
    <div class="img-left">
  <img id="geek-43" src="http://browserdiet.com/en/assets/img/43.png" alt="Geek #43" width="157" height="275" />
</div>

<p>Se você quer se aventurar nesse mundo, é imprescindível instalar as extensões <a href="http://yslow.org/">YSlow</a> e <a href="https://developers.google.com/speed/pagespeed/insights_extensions">PageSpeed</a> no seu <em>Chrome</em> ou <em>Firefox</em>, elas serão suas melhores amigas a partir desse momento.</p>
<p>Ou se preferir ferramentas online, visite o <a href="http://www.webpagetest.org/">WebPageTest</a>, <a href="http://httparchive.org/">HTTP Archive</a> ou <a href="http://pagespeed.googlelabs.com/">PageSpeed</a> (site).</p>
<p>Em geral elas analisam a performance do seu site, geram um relatório e dão uma nota para ele, sem contar nas dicas preciosas que apresentam para você resolver cada um dos problemas.</p>

  </div>



  <div class="article" id="article-bye">
    <h1 id="bye">
      <a class="tip-title" href="#bye">Por hoje é só!</a>
      <a title="Link" class="anchor" href="#bye">∞</a>
    </h1>
    
    <div class="line">
      <span class="order rule-counter"></span>
      <a title="Editar" class="edit" href="https://github.com/zenorocha/browser-diet/edit/master/src/documents/bonus/pt/bye.html.md">✎</a>
    </div>
    
    <div class="img-right">
  <img id="geek-31" src="http://browserdiet.com/en/assets/img/31.png" alt="Geek #31" width="162" height="275" />
</div>

<p>Esperamos que depois desse guia você possa colocar seu site em forma :)</p>
<p>Lembre-se que, como tudo na vida, <a href="http://www.cs.nott.ac.uk/~cah/G51ISS/Documents/NoSilverBullet.html">não existe bala de prata</a>. Otimizar a performance da sua aplicação é muito legal, mas nem todas suas decisões de desenvolvimento devem ser baseadas nisso, às vezes é preciso sacrificar um lado para aprimorar outro.</p>
<p>Quer saber mais? Consulte as <a href="https://github.com/zenorocha/browser-diet/wiki/References">Referências</a> que usamos para escrever esse guia.</p>
<p>Tem sugestões? Envie um tweet para <a href="http://twitter.com/browserdiet/">@BrowserDiet</a> ou um <a href="https://github.com/zenorocha/browser-diet">pull request</a> no Github.</p>
<p>Compartilhe com seus amiguinhos, vamos criar uma web mais rápida para todos \o/</p>

  </div>




    </div>
  </div>

  <div id="footer">
    <div class="center">
      <p>Desenvolvido por <em>Zeno Rocha</em> ● Design por <em>Briza Bueno</em> ● Ilustrações por <em>Scott Johnson</em></p>
    </div>
  </div>

  <!-- <a title="Ir para o topo" id="top" href="#top-bar">
    <img src="http://zenorocha.github.io/browser-diet/en/assets/img/top.png" alt="Ir para o topo" width="64" height="64">
  </a> -->

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4114546-34']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</body>
</html>
