<p>必要がないのにDOMを操作する度、パンダは死にます。</p>
<p>冗談抜きに、DOM要素のブラウジングは高コストです。JavaScriptのエンジンは強力に高速になってきってはいますが、常にDOMツリーのクエリーを最適化した方がよいでしょう。</p>
<p>最も簡単な最適化の1つは、頻繁にアクセスされるDOM要素のキャッシングです。 例えば、ループの反復処理毎にDOMの検索をする代わりに、一度だけ検索してその結果を変数に保持し、その変数をループの反復処理毎に使いましょう。</p>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">// 本当に良くないです！</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  document.getElementById(<span class="hljs-string">"myList"</span>).innerHTML += <span class="hljs-string">"&lt;span&gt;"</span> + i + <span class="hljs-string">"&lt;/span&gt;"</span>;
}
</code></pre>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">// ずっといいです :)</span>
<span class="hljs-keyword">var</span> myList = <span class="hljs-string">""</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  myList += <span class="hljs-string">"&lt;span&gt;"</span> + i + <span class="hljs-string">"&lt;/span&gt;"</span>;
}

document.getElementById(<span class="hljs-string">"myList"</span>).innerHTML = myList;
</code></pre>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">// ずっとずっといいです :)</span>
<span class="hljs-keyword">var</span> myListHTML = document.getElementById(<span class="hljs-string">"myList"</span>).innerHTML;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  myListHTML += <span class="hljs-string">"&lt;span&gt;"</span> + i + <span class="hljs-string">"&lt;/span&gt;"</span>;
}
</code></pre>
<p><em>&gt; <a href="http://jsperf.com/browser-diet-dom-manipulation/11">JSPerfの結果</a></em></p>
