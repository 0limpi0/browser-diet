<p>A melhor forma de otimizar os requests da sua página é não fazer requests na página, claro. E uma das maneiras mais úteis pra evitar requisições desnecessárias é deixar o navegador fazer cache dos arquivos. Por padrão, o navegador não faz cache das coisas, pra evitar ficar com arquivos desatualizados. Mas nós podemos indicar que determinado arquivo pode ser, sim, guardado em cache.</p>
<div class="img-right">
  <img id="geek-15" class="icos-geek" src="http://browserdiet.com/img/15.png" alt="Geek #15" width="141" height="275" />
</div>

<p>Essa configuração é feita no servidor e depende de qual você estiver usando. No Apache, por exemplo, você pode editar seu arquivo <code>.htaccess</code> e colocar a seguinte configuração:</p>
<pre class="highlight"><code class="mel">ExpiresActive On
ExpiresByType <span class="hljs-keyword">image</span>/gif <span class="hljs-string">"access plus 6 months"</span>
ExpiresByType <span class="hljs-keyword">image</span>/jpeg <span class="hljs-string">"access plus 6 months"</span>
ExpiresByType <span class="hljs-keyword">image</span>/png <span class="hljs-string">"access plus 6 months"</span>
ExpiresByType <span class="hljs-keyword">text</span>/css <span class="hljs-string">"access plus 6 months"</span>
ExpiresByType <span class="hljs-keyword">text</span>/javascript <span class="hljs-string">"access plus 6 months"</span>
ExpiresByType application/javascript <span class="hljs-string">"access plus 6 months"</span>
</code></pre><p>A configuração acima habilita um cache de 6 meses para imagens, CSS e JS — o recomendado é pelo menos 1 mês de cache. Outros servidores têm configurações parecidas.</p>
<p>Um ponto importante é que, uma vez cacheado, o browser não refaz mais o request. Se precisarmos alterar o conteúdo daquele arquivo, não conseguimos. Pra enviar uma versão nova, precisamos mudar o nome do arquivo. Uma forma recomendada é colocar algum tipo de código de versão ou timestamp no nome do arquivo. Por exemplo, ao invés de <code>home.js</code>, você pode usar <code>home-v1.js</code> e, quando precisar atualizar o arquivo, renomeia ele pra <code>home-v2.js</code>.</p>
<p>Outra forma comum é passar um parâmetro GET na URL: <code>home.js?v=1</code> e <code>home.js?v=2</code>. Esse método tem a desvantagem sobre a alternativa de renomear já que alguns proxies na internet ignoram parâmetros GET, mas aderem as regras de cache, o que lhe permite utilizá-las quando precisar.</p>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#enable-smart-caching">Referências</a></em></p>
