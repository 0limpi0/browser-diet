<p>The loop is undoubtedly one of the most important parts related to JavaScript performance. Try to optimize the logic inside a loop so that each iteration is done efficiently.</p>
<p>One way to do this is to store the size of the array that will be covered, so it doesn&#39;t need to be recalculated every time the loop is iterated.</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">1000</span>),
    len, i;

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) {
  <span class="hljs-comment">// Bad - size needs to be recalculated 1000 times</span>
}

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = arr.length; i &lt; len; i++) {
  <span class="hljs-comment">// Good - size is calculated only 1 time and then stored</span>
}
</code></pre>
<p><em><a href="http://jsperf.com/browser-diet-cache-array-length/10/">&gt; Results on JSPerf</a></em></p>
<p><strong>&gt; Note:</strong> <em>Although modern browsers engines automatically optimize this process, remains a good practice to suit the legacy browsers that still linger.</em></p>
<p>In iterations over collections in HTML as a list of Nodes (<em>NodeList</em>) generated for example by <code>document.getElementsByTagName(&#39;a&#39;)</code> this is particularly critical. These collections are considered &quot;live&quot;, i.e. they are automatically updated when there are changes in the element to which they belong.</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> links = document.getElementsByTagName(<span class="hljs-string">'a'</span>),
    len, i;

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; links.length; i++) {
  <span class="hljs-comment">// Bad - each iteration the list of links will be recalculated to see if there was a change</span>
}

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = links.length; i &lt; len; i++) {
  <span class="hljs-comment">// Good - the list size is first obtained and stored, then compared each iteration</span>
}

<span class="hljs-comment">// Terrible: infinite loop example</span>
<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; links.length; i++) {
  document.body.appendChild(document.createElement(<span class="hljs-string">'a'</span>));
  <span class="hljs-comment">// each iteration the list of links increases, never satisfying the termination condition of the loop</span>
  <span class="hljs-comment">// this would not happen if the size of the list was stored and used as a condition</span>
}
</code></pre>
<p><em>&gt; <a href="https://github.com/zenorocha/browser-diet/wiki/References#cache-array-lengths">References</a></em></p>
