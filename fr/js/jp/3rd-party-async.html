<p>Youtubeのビデオやlike/tweetボタンを埋め込むためのサードパーティのコンテンツを読み込んだことがない人がいますか？</p>
<div class="img-right">
  <img id="geek-46" class="icos-geek" src="http://browserdiet.com/img/46.png" alt="Geek #46" width="158" height="275" />
</div>

<p>これらのコードの大きな問題は、ユーザーの接続環境かホスティングされているサーバーの接続状態によって、常に効果的に配信される訳ではないということです。また、サービスが一時的にダウンしていたり、ユーザーかユーザーの会社のファイアウォールによってブロックされていることさえ有り得ます。</p>
<p>これがページの読み込み時に大きな問題とならないように、ページ全体の読み込みをロックするには、常にこれらのコードを非同期で読み込みましょう(もしくは <em><a href="https://www.facebook.com/note.php?note_id=10151176218703920">Friendly iFrames</a></em> を使いましょう)。</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> script = document.createElement(<span class="hljs-string">'script'</span>),
    scripts = document.getElementsByTagName(<span class="hljs-string">'script'</span>)[<span class="hljs-number">0</span>];
script.async = <span class="hljs-literal">true</span>;
script.src = url;
scripts.parentNode.insertBefore(script, scripts);
</code></pre>
<p>あるいは、複数のサードパーティウィジェットの読み込みたい場合、<a href="https://gist.github.com/zenorocha/5161860">このscript</a>を用いて非同期で読み込ませることができます。</p>
<p><em>&gt; <a href="http://www.webpagetest.org/video/view.php?id=111011_4e0708d3caa23b21a798cc01d0fdb7882a735a7d">動画</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#load-3rd-party-content-asynchronously">リファレンス</a></em></p>
