<p>当你获得DOM而又什么都不做时，这简直就是在杀死宝贵的生命。</p>
<p>说真的，浏览器遍历DOM元素的代价是昂贵的。虽然Javascript引擎变得越来越强大，越来越快速，但是还是应该最大化的优化查询DOM树的操作。</p>
<p>最简单的替代方案就是，当一个元素会出现多次时，将它保存在一个变量中，这样的话你就没必要每次都去查询DOM树了。</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// really bad!</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"myList"</span>).innerHTML += <span class="hljs-string">"&lt;span&gt;"</span> + i + <span class="hljs-string">"&lt;/span&gt;"</span>;
}
</code></pre>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// much better :)</span>
<span class="hljs-keyword">var</span> myList = <span class="hljs-string">""</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  myList += <span class="hljs-string">"&lt;span&gt;"</span> + i + <span class="hljs-string">"&lt;/span&gt;"</span>;
}

<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"myList"</span>).innerHTML = myList;
</code></pre>
<p>```js
// much <em>much</em> better :)
var myListHTML = document.getElementById(&quot;myList&quot;).innerHTML;</p>
<p>for (var i = 0; i &lt; 100; i++) {
  myListHTML += &quot;<span>&quot; + i + &quot;</span>&quot;;
}</p>
<p><em>&gt; <a href="http://jsperf.com/browser-diet-dom-manipulation/11">Results on JSPerf</a></em></p>
