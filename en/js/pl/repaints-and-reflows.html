<p>Ponowne malowanie i rysowanie elementów powstaje w momencie generowania drzewa DOM po zmianie właściwości elementu lub samego elementu.</p>
<p>Ponowne malowanie jest wyzwalane, gdy zmienia się wygląd elementu, ale nie jego układ. Nicole Sullivan opisuje to jako zmianę stylów, na przykład atrybutu <code>background-color</code>.</p>
<p>Ponowne rysowanie jest najbardziej kosztowne, ponieważ jest spowodowane przez zmianę układu strony, na przykład zmianę szerokości elementu.</p>
<p>Nie ma wątpliwości, że zarówno ponowne malowanie i rysowanie elementów powinny być unikane, więc zamiast w ten sposób:</p>
<div class="img-right">
  <img id="geek-55" class="icos-geek" src="http://browserdiet.com/img/55.png" alt="Geek #55" width="163" height="275" />
</div>

<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> div = document.getElementById(<span class="hljs-string">"to-measure"</span>),
    lis = document.getElementsByTagName(<span class="hljs-string">'li'</span>),
    i, len;

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = lis.length; i &lt; len; i++) {
  lis[i].style.width = div.offsetWidth + <span class="hljs-string">'px'</span>;
}
</code></pre>
<p>Zróbmy to tak:</p>
<pre class="highlight"><code class="javascript"><span class="hljs-keyword">var</span> div = document.getElementById(<span class="hljs-string">"to-measure"</span>),
    lis = document.getElementsByTagName(<span class="hljs-string">'li'</span>),
    widthToSet = div.offsetWidth,
    i, len;

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = lis.length; i &lt; len; i++) {
  lis[i].style.width = widthToSet + <span class="hljs-string">'px'</span>;
}
</code></pre>
<p>Po ustawieniu <code>style.width</code>, przeglądarka ponownie oblicza układ. Przeważnie, zmiany stylów dla wielu elementów powodują pojedyncze rysowanie, dopóki przeglądarka nie musi myśleć, o tym, że aktualizuje ekran. Jednakże, w pierwszym przykładzie potrzebujemy wartości <code>offsetWidth</code>, która jest szerokością elementu, więc przeglądarka potrzebuje przeliczenia układu.</p>
<p>Jeśli potrzebujesz informacji o układzie, pobierz wszystko zanim cokolwiek zmienisz, tak jak w przykładzie drugim.</p>
<p><em>&gt; <a href="http://jsbin.com/aqavin/2/quiet">Demo</a> / <a href="https://github.com/zenorocha/browser-diet/wiki/References#minimize-repaints-and-reflows">Referencje</a></em></p>
